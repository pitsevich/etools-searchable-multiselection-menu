<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">

<dom-module id="paper-chip-list">
  <template>
    <style >
      :host{
      }
      span {
        display: inline-block;
        width: auto;
        height:auto;
        margin-right:8px;
        color: #212121;
      }
      paper-icon-button{
        color: red;
        padding:0;
        height:24px;
        width:24px;
      }
      .custom-input {
        height: 24px;
      }
    </style>

    <div class="paper-input-input custom-input" >
      <template is="dom-repeat" items="[[chipValue]]">
                <span>
                    {{item.label}}
                    <paper-icon-button icon="close" on-click="_fireClose"></paper-icon-button>
                </span>
      </template>
    </div>



  </template>

  <script>
    Polymer({
      is: 'paper-chip-list',
      properties: {
        chipValue: {
          type: Array,
          notify: true,
        }
      },
      _fireClose: function (e) {
        var details = e.model.item;
        var newValue = this.chipValue.filter(function(item) {
          return parseInt(item.value, 10) !== parseInt(details.value,10)
        });
        newValue = newValue.length > 0 ? newValue : null;
        this.set('chipValue', newValue);
        this.fire('chip-delete', details)
      },
    });
  </script>
</dom-module>